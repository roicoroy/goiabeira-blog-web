{"version":3,"sources":["../../src/pages/settings/settings.module.ts","../../src/app/pipes.module.ts","../../src/app/app.pipe.ts","../../src/pages/settings/settings.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACO;AACV;AACe;AAC3B;AAc1B;IAAA;IAA8B,CAAC;IAAlB,cAAc;QAZ1B,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,2DAAQ;aACT;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,2DAAQ,CAAC;gBAClC,sEAAW;aACZ;YACD,OAAO,EAAE;gBACP,2DAAQ;aACT;SACF,CAAC;OACW,cAAc,CAAI;IAAD,qBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;AClBY;AACJ;AACyB;AAc5D;IAAA;IAA4B,CAAC;IAAhB,WAAW;QAXvB,+DAAQ,CAAC;YACN,YAAY,EAAE;gBACb,0DAAO;aACP;YACD,OAAO,EAAE;gBACP,oFAAe;aAClB;YAED,OAAO,EAAE,CAAC,oFAAe,EAAC,0DAAO,CAAC;SAEnC,CAAC;OACW,WAAW,CAAK;IAAD,kBAAC;CAAA;AAAL;;;;;;;;;;;;;;;;;AChB4B;AAKpD;IAAA;IASA,CAAC;IAPC,2BAAS,GAAT,UAAU,KAAa,EAAE,IAAW;QAClC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACV,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC;YACzD,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;YAC9C,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,KAAK,GAAG,KAAK,CAAC;QAC1E,CAAC;IACH,CAAC;IARU,OAAO;QAHnB,2DAAI,CAAC;YACJ,IAAI,EAAE,WAAW;SAClB,CAAC;OACW,OAAO,CASnB;IAAD,cAAC;CAAA;AATmB;;;;;;;;;;;;;;;;;;;;;;;;;;ACLoB;AAC4D;AAElD;AACQ;AACX;AACN;AAQzC;IAiBI,kBAAmB,EAAmB,EACnB,EAAuB,EACvB,SAA0B,EAC1B,WAA8B,EAC9B,OAAsB,EACtB,QAAiB,EACjB,SAA2B,EAC3B,MAAc;QAPd,OAAE,GAAF,EAAE,CAAiB;QACnB,OAAE,GAAF,EAAE,CAAqB;QACvB,cAAS,GAAT,SAAS,CAAiB;QAC1B,gBAAW,GAAX,WAAW,CAAmB;QAC9B,YAAO,GAAP,OAAO,CAAe;QACtB,aAAQ,GAAR,QAAQ,CAAS;QACjB,cAAS,GAAT,SAAS,CAAkB;QAC3B,WAAM,GAAN,MAAM,CAAQ;QAvBjC,SAAI,GAAQ,EAAE;QACd,QAAG,GAAQ,wBAAwB,CAAC;QAEpC,YAAO,GAAG;YACN;gBACI,UAAU,EAAE,SAAS;gBACrB,OAAO,EAAE,IAAI;aAChB;YACD;gBACI,UAAU,EAAE,YAAY;gBACxB,OAAO,EAAE,IAAI;aAChB;SACJ,CAAC;QACK,SAAI,GAAQ,EAAE,CAAC;QACf,eAAU,GAAG,qDAAgB,EAAE,CAAC;QAW/B,IAAI,KAAK,GAAE,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAC5C,IAAI,CAAC,KAAK,GAAG,KAAK,IAAE,IAAI,GAAG,KAAK,GAAC,IAAI,CAAC;QACtC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IAE5C,CAAC;IAED,2BAAQ,GAAR;QAAA,iBAQC;QAPE,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YACtB,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,UAAC,GAAO;gBACtF,KAAI,CAAC,IAAI,GAAG,GAAG,CAAC;gBAChB,KAAI,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,GAAG,EAAE,CAAC;gBAC7C,KAAI,CAAC,GAAG,GAAE,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,GAAG,wBAAwB,CAAC;YAC/D,CAAC,CAAC;QACN,CAAC;IACT,CAAC;IAED,0BAAO,GAAP,UAAQ,KAAK;QAAb,iBAmBC;QAlBG,IAAI,CAAC,IAAI,GAAsB,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACzE,IAAI,QAAQ,GAAG;YACX,WAAW,EAAE,SAAS;SACzB,CAAC;QACF,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACjC,OAAO,EAAE,eAAe;SAC3B,CAAC;QACF,MAAM,CAAC,OAAO,EAAE,CAAC;QACjB,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC;aAC5E,IAAI,CAAC,aAAG;YACL,KAAI,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,WAAW,CAAC;YAClC,KAAI,CAAC,GAAG,GAAG,GAAG,CAAC,WAAW,CAAC;YAC3B,KAAI,CAAC,EAAE,CAAC,MAAM,CAAC,OAAO,GAAC,GAAG,GAAC,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,GAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;YACvF,MAAM,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;YACX,MAAM,CAAC,OAAO,EAAE,CAAC;QACrB,CAAC,CAAC,CAAC;IAEX,CAAC;IAED,iCAAc,GAAd;QACI,YAAY,CAAC,OAAO,CAAC,UAAU,EAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5C,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC;YACrB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YAClC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC;QACD,IAAI,CAAC,CAAC;YACF,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YAClC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC;IAEL,CAAC;IAED,2BAAQ,GAAR,UAAS,IAAY;QAArB,iBAaC;QAXG,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YAC3B,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;gBAC5D,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI;gBACpB,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK;gBACtB,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK;gBACtB,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ;aAC/B,CAAC,CAAC,IAAI,CAAC;gBACJ,KAAI,CAAC,aAAa,CAAC,uCAAuC,EAAE,IAAI,CAAC,CAAC;gBAClE,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,EAAC,KAAI,CAAC,IAAI,CAAC,CAAC;YAC9C,CAAC,CAAC;QACN,CAAC;IACL,CAAC;IAED,gCAAa,GAAb,UAAc,OAAO,EAAE,QAAQ;QAC3B,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC9B,OAAO,EAAE,OAAO;YAChB,QAAQ,EAAE,QAAQ;SACrB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC;IAjGQ,QAAQ;QAJpB,gEAAS,CAAC;YACP,QAAQ,EAAE,eAAe;WACG;SAC/B,CAAC;+FAkBwC;YACf,uEAAmB;YACZ,wEAAe;YACb,qEAAiB;YACrB,gEAAa;YACb,uEAAQ;YACN,+DAAgB;YACnB,KAAM;OAxBxB,QAAQ,CAmGpB;IAAD,CAAC;AAAA;SAnGY,QAAQ,mB","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { Settings } from './settings';\nimport { PipesModule } from '../../app/pipes.module';\nimport 'firebase/storage';\n\n@NgModule({\n  declarations: [\n    Settings\n  ],\n  imports: [\n    IonicPageModule.forChild(Settings),\n    PipesModule\n  ],\n  exports: [\n    Settings\n  ]\n})\nexport class SettingsModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.module.ts","import {NgModule} from '@angular/core';\nimport {AppPipe} from './app.pipe';\nimport {TranslateModule} from 'ng2-translate/ng2-translate';\n\n\n@NgModule({\n    declarations: [\n     AppPipe\n    ],\n    imports: [\n      TranslateModule\n  ],\n \n  exports: [TranslateModule,AppPipe],\n    \n})\nexport class PipesModule {  }\n\n\n// WEBPACK FOOTER //\n// ./src/app/pipes.module.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'limitPipe'\n})\nexport class AppPipe implements PipeTransform {\n\t\n  transform(value: string, args: any[]): any {\n    if (value) {\n      let limit = args.length > 0 ? parseInt(args[0], 50) : 50;\n      let trail = args.length > 1 ? args[1] : '...';\n      return value.length > limit ? value.substring(0, limit) + trail : value;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.pipe.ts","import {Component} from '@angular/core';\nimport {IonicPage, NavController, ToastController, LoadingController,Platform, Events} from 'ionic-angular';\nimport {NgForm} from \"@angular/forms\";\nimport {AngularFireAuth} from 'angularfire2/auth';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {TranslateService} from 'ng2-translate';\nimport * as firebase from 'firebase/app';\n\n\n@IonicPage()\n@Component({\n    selector: 'page-settings',\n    templateUrl: 'settings.html'\n})\nexport class Settings {\n    user: any = {}\n    url: any = 'assets/img/profile.jpg';\n    value: any;\n    options = [\n        {\n            \"language\": \"English\",\n            \"value\": \"en\"\n        },\n        {\n            \"language\": \"Portuguese\",\n            \"value\": \"pt\"\n        }\n    ];\n    public file: any = {};\n    public storageRef = firebase.storage();\n\n    constructor(public af: AngularFireAuth,\n                public db: AngularFireDatabase,\n                public toastCtrl: ToastController,\n                public loadingCtrl: LoadingController,\n                public navCtrl: NavController,\n                public platform:Platform,\n                public translate: TranslateService,\n                public events: Events) {\n\n            let value= localStorage.getItem('language');\n            this.value = value!=null ? value:'en';\n            this.translate.setDefaultLang('en');\n            \n    }\n\n    ngOnInit(){\n       if (this.af.auth.currentUser) {\n                this.db.object('/users/' + this.af.auth.currentUser.uid).valueChanges().subscribe((res:any) => {\n                    this.user = res;\n                    this.user.image = res.image ? res.image : '';\n                    this.url= res.image ? res.image : \"assets/img/profile.jpg\";\n                })\n            } \n    }\n\n    readUrl(event) {\n        this.file = (<HTMLInputElement>document.getElementById('file')).files[0];\n        let metadata = {\n            contentType: 'image/*'\n        };\n        let loader = this.loadingCtrl.create({\n            content: 'please wait..'\n        })\n        loader.present();\n        this.storageRef.ref().child('profile/' + this.file.name).put(this.file, metadata)\n            .then(res => {\n                this.user.image = res.downloadURL;\n                this.url = res.downloadURL;\n                this.db.object('users'+'/'+this.af.auth.currentUser.uid+'/image').set(res.downloadURL);\n                loader.dismiss();\n             }).catch(error => {\n                loader.dismiss();\n            });\n\n    }\n\n    changeLanguage() {\n        localStorage.setItem('language',this.value);\n        if (this.value == 'pt') {\n            this.platform.setDir('ltr', true);\n            this.translate.use('pt');\n        }\n        else {\n            this.platform.setDir('ltr', true);\n            this.translate.use('en');\n        }\n        \n    }\n\n    onSubmit(user: NgForm) {\n\n        if (this.af.auth.currentUser) {\n            this.db.object('/users/' + this.af.auth.currentUser.uid).update({\n                name: this.user.name,\n                image: this.user.image,\n                email: this.user.email,\n                mobileNo: this.user.mobileNo\n            }).then(() => {\n                this.createToaster(\"user information updated successfully\", 3000);\n                this.events.publish('imageUrl',this.user);\n            })\n        }\n    }\n\n    createToaster(message, duration) {\n        let toast = this.toastCtrl.create({\n            message: message,\n            duration: duration\n        });\n        toast.present();\n    }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts"],"sourceRoot":""}
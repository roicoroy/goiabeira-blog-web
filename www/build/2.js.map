{"version":3,"sources":["../../src/pages/registration/registration.module.ts","../../src/app/pipes.module.ts","../../src/app/app.pipe.ts","../../src/pages/registration/registration.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { RegistrationPage } from './registration';\r\nimport {PipesModule} from '../../app/pipes.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    RegistrationPage\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(RegistrationPage),\r\n    PipesModule\r\n  ],\r\n  exports: [\r\n    RegistrationPage\r\n  ]\r\n})\r\nexport class RegistrationPageModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/registration/registration.module.ts","import {NgModule} from '@angular/core';\nimport {AppPipe} from './app.pipe';\nimport {TranslateModule} from 'ng2-translate/ng2-translate';\n\n\n@NgModule({\n    declarations: [\n     AppPipe\n    ],\n    imports: [\n      TranslateModule\n  ],\n \n  exports: [TranslateModule,AppPipe],\n    \n})\nexport class PipesModule {  }\n\n\n// WEBPACK FOOTER //\n// ./src/app/pipes.module.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'limitPipe'\n})\nexport class AppPipe implements PipeTransform {\n\t\n  transform(value: string, args: any[]): any {\n    if (value) {\n      let limit = args.length > 0 ? parseInt(args[0], 50) : 50;\n      let trail = args.length > 1 ? args[1] : '...';\n      return value.length > limit ? value.substring(0, limit) + trail : value;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.pipe.ts","import {Component, OnInit} from '@angular/core';\nimport {IonicPage, NavController, LoadingController, Platform, AlertController,Events} from 'ionic-angular';\nimport {FormGroup, FormBuilder, FormControl, Validators} from '@angular/forms';\nimport {AngularFireAuth} from 'angularfire2/auth';\nimport {AngularFireDatabase, AngularFireObject} from 'angularfire2/database'\nimport * as firebase from 'firebase';\n\n// import {GooglePlus} from '@ionic-native/google-plus';\n// import {TwitterConnect} from '@ionic-native/twitter-connect';\n// import {Facebook} from '@ionic-native/facebook';\n\n\n@IonicPage()\n@Component({\n    selector: 'page-registration',\n    templateUrl: 'registration.html',\n    providers: [\n    // Facebook, GooglePlus, TwitterConnect\n    ]\n})\nexport class RegistrationPage implements OnInit {\n\n    registration: FormGroup;\n    userDetails: AngularFireObject<any>;\n\n    constructor(public navCtrl: NavController,\n                public events:Events,\n                public fb: FormBuilder,\n                public af: AngularFireAuth,\n                public db: AngularFireDatabase,\n                public loadingCtrl: LoadingController,\n                public alertCtrl: AlertController,\n                // public twitter: TwitterConnect,\n                // public facebook: Facebook,\n                // public googlePlus: GooglePlus,\n                public platform: Platform) {\n\n    }\n\n    onSubmit() {\n        this.af.auth.createUserWithEmailAndPassword(this.registration.value.email, this.registration.value.password)\n            .then((success) => {\n                this.db.object('/users/' + success.uid).update({\n                    name: this.registration.value.name,\n                    email: this.registration.value.email,\n                    mobileNo: this.registration.value.mobileNo,\n                    role: 'User'\n                });\n\n                localStorage.setItem('uid', success.uid);\n                this.navCtrl.setRoot(\"HomePage\");\n            })\n            .catch((error) => {\n                console.log(\"Firebase failure: \" + JSON.stringify(error));\n                this.showAlert(error.message);\n            });\n    }\n\n    showAlert(message) {\n        let alert = this.alertCtrl.create({\n            subTitle: message,\n            buttons: ['OK']\n        });\n        alert.present();\n    }\n\n    navLogin() {\n        this.navCtrl.setRoot(\"LoginPage\");\n    }\n\n    ngOnInit(): any {\n        this.buildForm();\n    }\n\n//Validation\n    buildForm(): void {\n        this.registration = new FormGroup({\n            'name': new FormControl('', Validators.required),\n            'mobileNo': new FormControl('', Validators.required),\n            'email': new FormControl('', [Validators.required, Validators.pattern(\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{1,63}$\")]),\n            'password': new FormControl('', [Validators.required, Validators.minLength(4), Validators.maxLength(24)])\n        });\n    }\n\n    private publishEvent(){\n       this.db.object('/users/' + this.af.auth.currentUser.uid).valueChanges().subscribe(userInfo => {\n        this.events.publish('imageUrl',userInfo);\n      });\n    }\n\n    // doFbLogin() {\n    //     let permissions = new Array();\n    //     permissions = [\"public_profile\", \"email\", \"user_education_history\"];\n\n    //     this.facebook.login(permissions)\n    //         .then((success) => {\n    //             console.log(\"facebook Success response->\" + JSON.stringify(success));\n    //             this.facebook.api(\"/me?fields=id,name,email,gender,first_name,last_name\", permissions).then((user) => {\n    //                 var provider = firebase.auth.FacebookAuthProvider.credential(success.authResponse.accessToken);\n    //                 firebase.auth().signInWithCredential(provider)\n    //                     .then((response) => {\n    //                         //console.log(\"Firebase -fb success: \" + JSON.stringify(response));\n    //                         this.db.object('/users/' + response.uid).update({\n    //                             name: response.displayName,\n    //                             email: response.email,\n    //                             image: response.photoURL,\n    //                             role: 'User'\n    //                             }).then(success => {\n    //                             this.publishEvent();\n    //                                    });\n    //                         localStorage.setItem('uid', response.uid);\n    //                         this.navCtrl.setRoot(\"HomePage\");\n    //                     })\n    //                     .catch((error) => {\n    //                         console.log(\"Error\" + JSON.stringify(error));\n    //                         this.showAlert(error.message);\n    //                     });\n\n    //             }),\n    //                 (error) => {\n    //                     console.log(JSON.stringify(error));\n\n    //                 }\n\n    //         }, error => {\n    //             console.log(\"FaceBook ERROR : \", JSON.stringify(error));\n    //         })\n    // }\n\n    // googleLogin() {\n    //     this.googlePlus.login({\n    //         'scopes': '',\n    //         'webClientId': '164935859218-0jlgn5jj6l5nml4lrchpmi7pquvihn09.apps.googleusercontent.com',\n    //         'offline': true\n    //     })\n    //         .then((success) => {\n    //                 console.log(\"you have been successfully logged in by googlePlus!\" + JSON.stringify(success));\n    //                 let loading = this.loadingCtrl.create({\n    //                     content: 'Login Please Wait...'\n    //                 });\n    //                 loading.present();\n    //                 var provider = firebase.auth.GoogleAuthProvider.credential(success.idToken);\n\n    //                 firebase.auth().signInWithCredential(provider)\n    //                     .then((response) => {\n    //                         this.db.object('/users/' + response.uid).update({\n    //                             name: response.displayName,\n    //                             email: response.email,\n    //                              image: response.photoURL,\n    //                             role: 'User'\n    //                             }).then(success => {\n    //                             this.publishEvent();\n    //                           });\n    //                         localStorage.setItem('uid', response.uid);\n    //                         loading.dismiss();\n    //                         this.navCtrl.setRoot(\"HomePage\");\n    //                     })\n    //                     .catch((error) => {\n    //                         console.log(\"Error\" + JSON.stringify(error));\n    //                         this.showAlert(error.message);\n    //                     });\n    //             },\n    //             (error) => {\n    //                 console.log('Error' + JSON.stringify(error));\n\n    //             })\n    // }\n\n    // twitterLogin() {\n    //     this.platform.ready().then((res) => {\n    //             if (res == 'cordova') {\n    //                 this.twitter.login().then((result) => {\n    //                     this.twitter.showUser().then((user) => {\n    //                             let loading = this.loadingCtrl.create({\n    //                                 content: 'Login Please Wait...'\n    //                             });\n    //                             loading.present();\n\n    //                             var provider = firebase.auth.TwitterAuthProvider.credential(result.token, result.secret);\n\n    //                             firebase.auth().signInWithCredential(provider)\n    //                                 .then((response) => {\n    //                                     this.db.object('/users/' + response.uid).update({\n    //                                         name: response.displayName,\n    //                                         email: response.email,\n    //                                         image: response.photoURL,\n    //                                         role: 'User'\n    //                                      }).then(success => {\n    //                                        this.publishEvent();\n    //                                    });\n    //                                     localStorage.setItem('uid', response.uid);\n    //                                     loading.dismiss();\n    //                                     this.navCtrl.setRoot(\"HomePage\");\n    //                                 })\n    //                                 .catch((error) => {\n    //                                     console.log(\"Error \" + JSON.stringify(error));\n    //                                     this.showAlert(error.message);\n    //                                 });\n    //                         },\n    //                         (onError) => {\n    //                             console.log(\"User\" + JSON.stringify(onError));\n    //                         }\n    //                     )\n    //                 })\n    //             }\n    //         }\n    //     )\n    // }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/registration/registration.ts"],"sourceRoot":""}